<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkillSwap - Share & Learn Skills 🚀</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcome-screen" class="welcome-screen">
        <div class="welcome-container">
            <h1 class="welcome-title">🎯 Welcome to SkillSwap!</h1>
            <div class="username-display">
                <p>Your guest name:</p>
                <h2 id="guest-username" class="guest-username"></h2>
            </div>
            <p class="welcome-message">Ready to learn or share a skill?</p>
            <button id="enter-app" class="cta-button">🚀 Let's Go!</button>
        </div>
    </div>

    <!-- Main App -->
    <div id="main-app" class="main-app hidden">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">🎯 SkillSwap</h1>
                <div class="user-info">
                    <span id="header-username" class="username-badge"></span>
                </div>
            </div>
        </header>

        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <ul class="nav-list">
                <li class="nav-item active" data-section="learn">
                    <span class="nav-icon">🧠</span>
                    <span class="nav-text">Skills to Learn</span>
                </li>
                <li class="nav-item" data-section="share">
                    <span class="nav-icon">💡</span>
                    <span class="nav-text">Skills to Share</span>
                </li>
                <li class="nav-item" data-section="requests">
                    <span class="nav-icon">✉️</span>
                    <span class="nav-text">Requests Sent</span>
                </li>
                <li class="nav-item" data-section="chat">
                    <span class="nav-icon">💬</span>
                    <span class="nav-text">Chat</span>
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Skills to Learn Section -->
            <section id="learn-section" class="content-section active">
                <div class="section-header">
                    <h2>🧠 Skills to Learn</h2>
                    <p>Discover amazing skills shared by the community</p>
                </div>
                <div id="skills-grid" class="skills-grid">
                    <!-- Skills will be dynamically loaded here -->
                </div>
                <div id="no-skills" class="empty-state hidden">
                    <div class="empty-icon">📚</div>
                    <h3>No skills available yet</h3>
                    <p>Be the first to share a skill with the community!</p>
                </div>
            </section>

            <!-- Skills to Share Section -->
            <section id="share-section" class="content-section">
                <div class="section-header">
                    <h2>💡 Share Your Skills</h2>
                    <p>Help others learn something new</p>
                </div>
                <div class="share-form-container">
                    <form id="skill-form" class="skill-form">
                        <div class="form-group">
                            <label for="skill-title">Skill Title</label>
                            <input type="text" id="skill-title" placeholder="e.g., Video Editing" required>
                        </div>
                        <div class="form-group">
                            <label for="skill-description">Description</label>
                            <textarea id="skill-description" placeholder="e.g., I can help you master CapCut or DaVinci Resolve" required></textarea>
                        </div>
                        <button type="submit" class="submit-button">🚀 Share Skill</button>
                    </form>
                </div>
                <div class="my-skills-container">
                    <h3>Your Shared Skills</h3>
                    <div id="my-skills" class="my-skills-grid">
                        <!-- User's skills will be displayed here -->
                    </div>
                </div>
            </section>

            <!-- Requests Sent Section -->
            <section id="requests-section" class="content-section">
                <div class="section-header">
                    <h2>✉️ Requests Sent</h2>
                    <p>Track your learning requests</p>
                </div>
                <div id="requests-list" class="requests-list">
                    <!-- Requests will be dynamically loaded here -->
                </div>
                <div id="no-requests" class="empty-state">
                    <div class="empty-icon">📤</div>
                    <h3>No requests sent yet</h3>
                    <p>Browse skills and send your first learning request!</p>
                </div>
            </section>

            <!-- Chat Section -->
            <section id="chat-section" class="content-section">
                <div class="section-header">
                    <h2>💬 Chat</h2>
                    <p>Connect with skill sharers</p>
                </div>
                <div class="chat-container">
                    <div id="chat-list" class="chat-list">
                        <!-- Chat rooms will be listed here -->
                    </div>
                    <div id="chat-window" class="chat-window hidden">
                        <div class="chat-header">
                            <h3 id="chat-title">Chat with Guest_User</h3>
                            <button id="close-chat" class="close-chat">✕</button>
                        </div>
                        <div id="chat-messages" class="chat-messages">
                            <!-- Messages will appear here -->
                        </div>
                        <div class="chat-input-container">
                            <input type="text" id="chat-input" placeholder="Type your message...">
                            <button id="send-message" class="send-button">Send</button>
                        </div>
                    </div>
                </div>
                <div id="no-chats" class="empty-state">
                    <div class="empty-icon">💬</div>
                    <h3>No active chats</h3>
                    <p>Start learning a skill to begin chatting!</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Request Modal -->
    <div id="request-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>🌟 Request to Learn</h3>
                <button id="close-modal" class="close-modal">✕</button>
            </div>
            <div class="modal-body">
                <p id="modal-skill-info"></p>
                <div class="form-group">
                    <label for="request-message">Your message to the skill owner:</label>
                    <textarea id="request-message" placeholder="Hi! I'd love to learn this skill from you. When would be a good time to connect?"></textarea>
                </div>
                <div class="modal-actions">
                    <button id="cancel-request" class="cancel-button">Cancel</button>
                    <button id="send-request" class="confirm-button">📤 Send Request</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="notification" class="notification hidden">
        <span id="notification-text"></span>
    </div>

    <!-- Firebase SDK -->
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>
    
    <!-- EmailJS -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <!-- Custom Scripts -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/firebase.js"></script>
    <script src="js/email.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
